{"ast":null,"code":"import _objectSpread from\"/Users/Justgyro/github/moviedb/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/Justgyro/github/moviedb/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';import Search from'./components/Search';import Results from'./components/Results';import Popup from'./components/Popup';function App(){var _useState=useState({s:\"\",results:[],selected:{}}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var apiurl=\"http://www.omdbapi.com/?apikey=4ffc7bff\";var search=function search(e){if(e.key===\"Enter\"){axios(apiurl+\"&s=\"+state.s).then(function(_ref){var data=_ref.data;var results=data.Search;setState(function(prevState){return _objectSpread({},prevState,{results:results});});});}};var handleInput=function handleInput(e){var s=e.target.value;setState(function(prevState){return _objectSpread({},prevState,{s:s});});};var openPopup=function openPopup(id){axios(apiurl+\"&i=\"+id).then(function(_ref2){var data=_ref2.data;var result=data;console.log(result);setState(function(prevState){return _objectSpread({},prevState,{selected:result});});});};var closePopup=function closePopup(){setState(function(prevState){return _objectSpread({},prevState,{selected:{}});});};return React.createElement(\"div\",{className:\"App\"},React.createElement(\"header\",null,React.createElement(\"h1\",null,\"Movie DB\")),React.createElement(\"main\",null,React.createElement(Search,{handleInput:handleInput,search:search}),React.createElement(Results,{results:state.results,openPopup:openPopup}),typeof state.selected.Title!=\"undefined\"?React.createElement(Popup,{selected:state.selected,closePopup:closePopup}):false));}export default App;","map":{"version":3,"sources":["/Users/Justgyro/github/moviedb/src/App.js"],"names":["React","useState","axios","Search","Results","Popup","App","s","results","selected","state","setState","apiurl","search","e","key","then","data","prevState","handleInput","target","value","openPopup","id","result","console","log","closePopup","Title"],"mappings":"iOAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CAEA,QAASC,CAAAA,GAAT,EAAe,eACaL,QAAQ,CAAC,CACjCM,CAAC,CAAE,EAD8B,CAEjCC,OAAO,CAAE,EAFwB,CAGjCC,QAAQ,CAAE,EAHuB,CAAD,CADrB,wCACNC,KADM,eACCC,QADD,eAMb,GAAMC,CAAAA,MAAM,CAAG,yCAAf,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,CAAD,CAAO,CACpB,GAAIA,CAAC,CAACC,GAAF,GAAU,OAAd,CAAuB,CACrBb,KAAK,CAACU,MAAM,CAAG,KAAT,CAAiBF,KAAK,CAACH,CAAxB,CAAL,CAAgCS,IAAhC,CAAqC,cAAc,IAAXC,CAAAA,IAAW,MAAXA,IAAW,CACjD,GAAIT,CAAAA,OAAO,CAAGS,IAAI,CAACd,MAAnB,CAEAQ,QAAQ,CAAC,SAAAO,SAAS,CAAI,CACpB,wBAAYA,SAAZ,EAAuBV,OAAO,CAAEA,OAAhC,GACD,CAFO,CAAR,CAGD,CAND,EAOD,CACF,CAVD,CAYA,GAAMW,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACL,CAAD,CAAO,CACzB,GAAIP,CAAAA,CAAC,CAAGO,CAAC,CAACM,MAAF,CAASC,KAAjB,CAEAV,QAAQ,CAAC,SAAAO,SAAS,CAAI,CACpB,wBAAYA,SAAZ,EAAuBX,CAAC,CAAEA,CAA1B,GACD,CAFO,CAAR,CAGD,CAND,CAQA,GAAMe,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,EAAE,CAAI,CACtBrB,KAAK,CAACU,MAAM,CAAG,KAAT,CAAiBW,EAAlB,CAAL,CAA2BP,IAA3B,CAAgC,eAAc,IAAXC,CAAAA,IAAW,OAAXA,IAAW,CAC5C,GAAIO,CAAAA,MAAM,CAAGP,IAAb,CAEAQ,OAAO,CAACC,GAAR,CAAYF,MAAZ,EAEAb,QAAQ,CAAC,SAAAO,SAAS,CAAI,CACpB,wBAAYA,SAAZ,EAAuBT,QAAQ,CAAEe,MAAjC,GACD,CAFO,CAAR,CAGD,CARD,EASD,CAVD,CAYA,GAAMG,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBhB,QAAQ,CAAC,SAAAO,SAAS,CAAI,CACpB,wBAAYA,SAAZ,EAAuBT,QAAQ,CAAE,EAAjC,GACD,CAFO,CAAR,CAGD,CAJD,CAMA,MACE,4BAAK,SAAS,CAAC,KAAf,EACE,kCACE,yCADF,CADF,CAIE,gCACE,oBAAC,MAAD,EAAQ,WAAW,CAAEU,WAArB,CAAkC,MAAM,CAAEN,MAA1C,EADF,CAGE,oBAAC,OAAD,EAAS,OAAO,CAAEH,KAAK,CAACF,OAAxB,CAAiC,SAAS,CAAEc,SAA5C,EAHF,CAKI,MAAOZ,CAAAA,KAAK,CAACD,QAAN,CAAemB,KAAtB,EAA+B,WAAhC,CAA+C,oBAAC,KAAD,EAAO,QAAQ,CAAElB,KAAK,CAACD,QAAvB,CAAiC,UAAU,CAAEkB,UAA7C,EAA/C,CAA6G,KALhH,CAJF,CADF,CAcD,CAED,cAAerB,CAAAA,GAAf","sourcesContent":["import React, { useState } from 'react'\nimport axios from 'axios'\n\nimport Search from './components/Search'\nimport Results from './components/Results'\nimport Popup from './components/Popup'\n\nfunction App() {\n  const [state, setState] = useState({\n    s: \"\",\n    results: [],\n    selected: {}\n  });\n  const apiurl = \"http://www.omdbapi.com/?apikey=4ffc7bff\";\n\n  const search = (e) => {\n    if (e.key === \"Enter\") {\n      axios(apiurl + \"&s=\" + state.s).then(({ data }) => {\n        let results = data.Search;\n\n        setState(prevState => {\n          return { ...prevState, results: results }\n        })\n      });\n    }\n  }\n  \n  const handleInput = (e) => {\n    let s = e.target.value;\n\n    setState(prevState => {\n      return { ...prevState, s: s }\n    });\n  }\n\n  const openPopup = id => {\n    axios(apiurl + \"&i=\" + id).then(({ data }) => {\n      let result = data;\n\n      console.log(result);\n\n      setState(prevState => {\n        return { ...prevState, selected: result }\n      });\n    });\n  }\n\n  const closePopup = () => {\n    setState(prevState => {\n      return { ...prevState, selected: {} }\n    });\n  }\n\n  return (\n    <div className=\"App\">\n      <header>\n        <h1>Movie DB</h1>\n      </header>\n      <main>\n        <Search handleInput={handleInput} search={search} />\n\n        <Results results={state.results} openPopup={openPopup} />\n\n        {(typeof state.selected.Title != \"undefined\") ? <Popup selected={state.selected} closePopup={closePopup} /> : false}\n      </main>\n    </div>\n  );\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}